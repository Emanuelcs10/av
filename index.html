<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Vitoria — Minha declaração</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; }
    .bg-grad { background: radial-gradient(ellipse at top right, rgba(255,200,210,0.12), transparent 30%), linear-gradient(120deg,#ffe6f0 0%, #fff8f3 60%); }
    .glass { background: rgba(255,255,255,0.6); backdrop-filter: blur(6px); }
    .heart { animation: beat 1.1s infinite; transform-origin: center; }
    @keyframes beat { 0% { transform: scale(1); } 30% { transform: scale(1.08); } 60% { transform: scale(0.98); } 100% { transform: scale(1); } }
    .pulse { animation: pulse 2s ease-in-out infinite; }
    @keyframes pulse { 0%,100% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.05); opacity: 0.8; } }
    .typewriter > .wrap { border-right: 2px solid rgba(0,0,0,0.08); padding-right: 2px; }
    .modal-backdrop { background: rgba(0,0,0,0.5); }
  </style>
</head>
<body class="min-h-screen bg-grad text-slate-800">
  <header class="max-w-5xl mx-auto p-6">
    <nav class="flex items-center justify-between">
      <div class="flex items-center gap-3">
        <svg class="w-10 h-10 text-pink-500 heart" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 21s-7.5-4.873-9.5-8.042C-1.5 6.5 6 3 9.5 6.5 11 8 12 9.5 12 9.5s1-1.5 2.5-3C18 3 25.5 6.5 21.5 12.958 19.5 16.127 12 21 12 21z"/></svg>
        <div>
          <h1 class="text-2xl font-semibold">Para Vitoria</h1>
          <p class="text-sm text-slate-600">Uma declaração feita especialmente pra você</p>
        </div>
      </div>
      <button id="playToggle" class="px-4 py-2 rounded-full bg-pink-500 text-white shadow hover:brightness-95">▶️ Tocar música</button>
    </nav>
  </header>

  <main class="max-w-5xl mx-auto p-6 grid grid-cols-1 lg:grid-cols-4 gap-6">
    <aside class="glass p-6 rounded-2xl shadow flex flex-col items-center justify-center text-center lg:col-span-1">
      <h2 class="text-xl font-bold text-pink-600">Te amo há</h2>
      <p id="timeCount" class="text-lg font-extrabold mt-2 text-slate-800 pulse">0 anos, 0 meses, 0 dias, 0h 0m 0s</p>
      <p class="text-sm text-slate-600 mt-1">desde 24/10/2020 às 23:50</p>
    </aside>

    <section class="lg:col-span-3 glass p-6 rounded-2xl shadow">
      <div class="flex flex-col gap-4">
        <h2 class="text-4xl font-extrabold leading-tight">Vitoria — cada momento com você é um poema</h2>
        <p class="text-slate-700">Essas palavras são poucas perto do que sinto, mas aqui vai minha tentativa de explicar em versos e imagens.</p>

        <div class="mt-4 p-4 rounded-lg border border-pink-100 bg-white/60">
          <div id="typewriter" class="typewriter text-xl font-medium text-slate-800">
            <span class="wrap"></span>
          </div>
        </div>

        <div class="mt-6 flex items-center gap-4">
          <a href="#galeria" class="inline-block px-5 py-3 rounded-full bg-pink-500 text-white font-semibold shadow hover:scale-[1.02] transform transition">Ver galeria</a>
          <button id="openLetter" class="px-4 py-2 rounded-full border border-pink-200">Ler carta completa</button>
        </div>
      </div>
    </section>

    <section id="galeria" class="lg:col-span-4 glass p-6 rounded-2xl shadow mt-4">
      <h3 class="text-2xl font-bold">Galeria</h3>
      <p class="text-sm text-slate-600 mt-1">Clique em qualquer item para ampliar.</p>
      <div class="mt-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4">
        <!-- Vídeos -->
        <video src="/arquivos/videos/Vitoria_Emanuel_08112020.mp4" class="w-full h-44 object-cover rounded-xl cursor-pointer" onclick="openModal('video1')" muted></video>
        <video src="/arquivos/videos/Vitoria_Emanuel_c08112020.mp4" class="w-full h-44 object-cover rounded-xl cursor-pointer" onclick="openModal('video2')" muted></video>

        <!-- Imagens -->
        <img src="/arquivos/fotos/Vitoria_Emanuel_no_lekker041125.jpg" class="w-full h-44 object-cover rounded-xl cursor-pointer" onclick="openModal(0)">
      </div>
    </section>
  </main>

  <div id="modal" class="fixed inset-0 hidden items-center justify-center z-50">
    <div class="modal-backdrop absolute inset-0" onclick="closeModal()"></div>
    <div class="relative z-10 max-w-3xl w-full mx-4">
      <div class="bg-white rounded-2xl overflow-hidden shadow-lg">
        <button onclick="closeModal()" class="absolute right-4 top-4 bg-white/80 rounded-full p-2">✕</button>
        <div id="modalContent" class="p-4"></div>
      </div>
    </div>
  </div>

  <template id="letterTemplate">
    <div class="p-6">
      <h2 class="text-2xl font-bold">Minha carta para Vitoria</h2>
      <p class="mt-4 text-slate-700">Vitoria,<br>Desde que te conheci, cada dia ganhou novas cores. Seu sorriso acende uma luz que me guia, e sua presença transforma o ordinário em mágico. Quero estar ao seu lado, construir memórias e dividir risos e silêncios. Obrigado por existir e por me permitir te conhecer. Com todo meu carinho,</p>
      <p class="mt-4 font-semibold">— Quem te escreveu</p>
    </div>
  </template>

  <audio id="bgAudio" loop preload="auto">
    <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_8f3d9c6aa9.mp3?filename=romantic-piano-111690.mp3" type="audio/mpeg">
  </audio>

 
  <script>
    const phrases = ["Vitoria, você é minha calma e minha coragem.","Com você, até os dias cinzentos ficam com cor.","Quero colecionar sorrisos seus para sempre.","Obrigado por ser exatamente quem você é."];
    let pIndex = 0, charIndex = 0; const speed = 40, pause = 1500; const wrap = document.querySelector('#typewriter .wrap');
    function type(){ if(charIndex < phrases[pIndex].length){ wrap.textContent += phrases[pIndex].charAt(charIndex++); setTimeout(type, speed);} else setTimeout(erase, pause); }
    function erase(){ if(charIndex>0){ wrap.textContent = phrases[pIndex].substring(0, --charIndex); setTimeout(erase, speed/2);} else {pIndex=(pIndex+1)%phrases.length; setTimeout(type, 300);} }
    document.addEventListener('DOMContentLoaded', ()=> setTimeout(type,600));

    const images=["https://media.discordapp.net/attachments/832255484433137706/1436121334579990589/Vitoria_Emanuel_no_lekker041125.jpg?ex=690e73b8&is=690d2238&hm=91a6f42e7838cc4105b999c7b48df8bebbbb1125f811e59148d483643400a8ab&=&format=webp&width=432&height=769"];
    const videos=["https://media.discordapp.net/attachments/832255484433137706/1436121333514764489/Vitoria_Emanuel_08112020.mp4?ex=690e73b7&is=690d2237&hm=127c1af3e369fe93bfa6f2b2f61f42742e368bf182380afb2ac4fd7b39e8937c&","https://media.discordapp.net/attachments/832255484433137706/1436121334089519246/Vitoria_Emanuel_c08112020.mp4?ex=690e73b7&is=690d2237&hm=5a920921ca627e3eb187b1b93e341031dd1b8c2e200e7db1e1145da5b1f00ad6&"];

    function openModal(i){
      const m=document.getElementById('modal'),c=document.getElementById('modalContent');
      c.innerHTML='';
      if(i==='letter'){
        c.appendChild(document.getElementById('letterTemplate').content.cloneNode(true));
      } else if(i==='video1' || i==='video2') {
        const vid=document.createElement('video');
        vid.src=i==='video1'?videos[0]:videos[1];
        vid.className='w-full h-auto rounded-xl';
        vid.controls=true;
        vid.autoplay=true;
        vid.loop=true;
        c.appendChild(vid);
      } else {
        const img=document.createElement('img');
        img.src=images[i];
        img.className='w-full h-auto rounded-xl';
        c.appendChild(img);
      }
      m.classList.remove('hidden');
      m.classList.add('flex');
    }

    function closeModal(){const m=document.getElementById('modal');m.classList.add('hidden');m.classList.remove('flex');}
    document.getElementById('openLetter').addEventListener('click',()=>openModal('letter'));

    const audio=document.getElementById('bgAudio');const btn=document.getElementById('playToggle');let playing=false;
    btn.addEventListener('click',()=>{if(!playing){audio.play().catch(()=>{});btn.textContent='⏸️ Pausar música';playing=true;}else{audio.pause();btn.textContent='▶️ Tocar música';playing=false;}});
    document.addEventListener('keydown',e=>{if(e.key==='Escape')closeModal();});

    const startDate = new Date('2020-10-24T23:50:00');
    function updateTime(){
      const now = new Date();
      let diff = Math.floor((now - startDate) / 1000);
      const years = Math.floor(diff / (3600 * 24 * 365)); diff -= years * 3600 * 24 * 365;
      const months = Math.floor(diff / (3600 * 24 * 30)); diff -= months * 3600 * 24 * 30;
      const days = Math.floor(diff / (3600 * 24)); diff -= days * 3600 * 24;
      const hours = Math.floor(diff / 3600); diff -= hours * 3600;
      const minutes = Math.floor(diff / 60); diff -= minutes * 60;
      const seconds = diff;
      document.getElementById('timeCount').textContent = `${years} anos, ${months} meses, ${days} dias, ${hours}h ${minutes}m ${seconds}s`;
    }
    updateTime();
    setInterval(updateTime, 1000);
  </script>
</body>
</html>